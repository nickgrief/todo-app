const g=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}};g();const d=document.querySelector("#app"),f={High:"high",Default:"default",Low:"low"};class m{constructor(e,n){this.title="Task name",this.description="Task description",this.priority=f.Default,this.dueDate="",this.id=e!=null?e:"0",this.taskList=n!=null?n:"0"}static display(e,n){const i=document.createElement("div");i.classList.toggle("task-holder");const t=document.createElement("div");t.dataset.id=e.id,t.dataset.taskList=e.taskList,t.classList.toggle("task-title-holder");const o=document.createElement("textarea");o.rows=1,o.classList.toggle("task-title"),o.value=e.title,o.addEventListener("input",()=>{e.title=o.value,c.save()}),t.appendChild(o);const a=document.createElement("button");a.textContent="R",a.addEventListener("click",()=>{var r;c.removeTask(e.taskList,(r=a.parentElement)==null?void 0:r.dataset.id)}),t.appendChild(a),i.appendChild(t);const l=document.createElement("textarea");l.classList.toggle("task-description"),l.value=e.description,l.addEventListener("input",()=>{e.description=l.value,c.save()}),i.appendChild(l),n.appendChild(i)}}class u{constructor(e){this.title="New Task List",this.id=e!=null?e:"0",this.tasks=[new m(0,this.id)]}static addTask(e){e.tasks.push(new m(e.tasks.length-1,e.id)),c.save(),c.display()}static display(e,n){const i=document.createElement("div");i.classList.toggle("task-list-holder");const t=document.createElement("textarea");t.rows=1,t.classList.toggle("task-list-title"),t.value=e.title,t.addEventListener("input",()=>{e.title=t.value}),i.appendChild(t),e.tasks.forEach(r=>{m.display(r,i)});const o=document.createElement("div");o.classList.toggle("task-list-button-holder"),o.dataset.id=e.id;const a=document.createElement("button");a.textContent="Add Task",a.addEventListener("click",()=>{u.addTask(e)}),o.appendChild(a);const l=document.createElement("button");l.textContent="Remove List",l.addEventListener("click",()=>{var r;c.removeTaskList((r=l.parentElement)==null?void 0:r.dataset.id)}),o.appendChild(l),i.appendChild(o),n==null||n.appendChild(i)}}const p=(()=>{const s=document.createElement("div");s.classList.toggle("header-holder");const e=document.createElement("h1");e.classList.toggle("header-app-name"),e.textContent="TODO App",s.appendChild(e);const n=document.createElement("button");n.textContent="New Task List",s.appendChild(n);const i=document.createElement("button");return i.textContent="Clear Task List List",s.appendChild(i),d==null||d.appendChild(s),{newTaskListBtn:n,clearTaskListListBtn:i}})(),c=(()=>{let s=[];localStorage.taskListList&&(s=JSON.parse(localStorage.taskListList)),p.newTaskListBtn.addEventListener("click",i),p.clearTaskListListBtn.addEventListener("click",l);const e=document.createElement("div");e.classList.toggle("main-holder"),n(),d==null||d.appendChild(e);function n(){for(;e.hasChildNodes();)e.removeChild(e.lastChild);s.forEach(r=>{u.display(r,e)})}function i(){s.push(new u(s.length)),console.log(s),a(),n()}function t(r){s.splice(r,1),a(),n()}function o(r,h){console.log(r),console.log(s[r]),s[r].tasks.splice(h,1),a(),n()}function a(){localStorage.taskListList=JSON.stringify(s)}function l(){s=[],localStorage.clear(),a(),n()}return{taskListList:s,createTaskList:i,removeTaskList:t,removeTask:o,save:a,clear:l,display:n}})();
